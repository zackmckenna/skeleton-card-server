(this["webpackJsonpskeleton-card"]=this["webpackJsonpskeleton-card"]||[]).push([[0],{118:function(e,t,a){e.exports=a(201)},123:function(e,t,a){},130:function(e,t,a){},194:function(e,t){},201:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),o=a(19),l=a.n(o),c=(a(123),a(124),a(125),a(9)),s=a(7),u=(a(130),a(25)),i=a.n(u),m=(a(42),a(30)),d=a(205),g=a(206),E=a(109),p=a(209),k=a(110),f=a(8),O=a.n(f),b=a(15),y={login:function(){var e=Object(b.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("credentials",t),e.next=3,i.a.post("/api/login",t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},h=a(6),v=a(61),S=a(53),C=a.n(S),j="skeleton-card/redux/ducks/session/START_GAME_FAIL",_="skeleton-card/redux/ducks/session/DISPATCH_GAME_TO_CLIENTS",I="skeleton-card/redux/ducks/session/REMOVE_CLIENT_FROM_ROOM",T="skeleton-card/redux/ducks/session/SET_GAME",x="skeleton-card/redux/ducks/session/SET_HOST",N="skeleton-card/redux/ducks/session/SET_ROOM_FOR_SESSION",R="skeleton-card/redux/ducks/session/CLEAR_ROOM_FOR_SESSION",A="skeleton-card/redux/ducks/session/SET_GAME_ROLES";var w=function(e,t){return{type:"server/DISPATCH_ROOM_MESSAGE_TO_SOCKET",payload:{roomName:e,message:t}}},G=function(e,t){return function(a){a({type:T,payload:e}),a(L(e,t))}},M=function(e){return function(t){console.log(e),t(function(e){return{type:"server/DISPATCH_START_GAME_TO_SOCKET",payload:e}}(e))}},L=function(e,t){return{type:"server/DISPATCH_GAME_TO_SOCKET",payload:{game:e,room:t}}},P="skeleton-card/redux/ducks/socket/SET_ROOM_SUCCESS",U="skeleton-card/redux/ducks/socket/SET_ROOM_PENDING",D="skeleton-card/redux/ducks/socket/SET_ROOM_FAIL",z="skeleton-card/redux/ducks/socket/SET_ROOM_STATE",F="skeleton-card/redux/ducks/socket/LEAVE_ROOM_SUCCESS",B="skeleton-card/redux/ducks/socket/SET_SOCKET_STATE",H="skeleton-card/redux/ducks/socket/CONNECT_CLIENT_PENDING",K="skeleton-card/redux/ducks/socket/CONNECT_CLIENT_SUCCESS",V="skeleton-card/redux/ducks/socket/CONNECT_CLIENT_FAIL";var J=function(e){return{type:"skeleton-card/redux/ducks/socket/LEAVE_ROOM_FAIL",payload:e}},W=function(){return{type:"skeleton-card/redux/ducks/socket/LEAVE_ROOM_PENDING"}},X=function(e){return{type:"server/SET_SOCKET_USER",payload:{username:e.username,id:e.id,token:!!e.token}}},Y=function(e){return function(t){t(function(e){return console.log("setting room state"),{type:z,payload:e}}(e)),t(function(e){return console.log(e),{type:"server/SET_ROOM",payload:e}}(e)),t(function(e){return{type:N,payload:e}}(e))}},$="skeleton-card/redux/ducks/login/LOGIN_AUTH_SUCCESS",q="skeleton-card/redux/ducks/login/LOGIN_AUTH_FAIL",Q="skeleton-card/redux/ducks/login/LOGIN_AUTH_PENDING",Z="skeleton-card/redux/ducks/login/LOGOUT_PENDING",ee="skeleton-card/redux/ducks/login/LOGOUT_SUCCESS",te="skeleton-card/redux/ducks/login/LOGOUT_FAIL";var ae=function(e){return{type:$,payload:e}},ne=function(e){return{type:q,error:e}},re={loginUser:function(e,t){return function(){var a=Object(b.a)(O.a.mark((function a(n){return O.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return n({type:Q}),a.next=3,y.login({username:e,password:t}).then((function(e){n(X(e)),n(ae(e))})).catch((function(e){return n(ne(e))}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},connectClient:function(){return function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:H}),C()("http://localhost:3003").on("client connected",(function(e){return t({type:K,payload:e})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},setSocketUser:X},oe=Object(c.b)((function(e){return{users:e.users,login:e.login}}),re)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),i=u[0],m=u[1];return r.a.createElement(d.a,null,r.a.createElement("h1",null,"Log In"),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"Email address"),r.a.createElement(p.a.Control,{onChange:function(e){return function(e){l(e.target.value)}(e)},value:o,type:"email",placeholder:"Enter email"})),r.a.createElement(p.a.Group,{controlId:"formBasicPassword"},r.a.createElement(p.a.Label,null,"Password"),r.a.createElement(p.a.Control,{onChange:function(e){return function(e){m(e.target.value)}(e)},value:i,type:"password",placeholder:"Password"})),r.a.createElement(p.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(p.a.Check,{type:"checkbox",label:"Remember Me"})),r.a.createElement(k.a,{onClick:function(t){return function(t){t.preventDefault();try{e.loginUser(o,i),l(""),m("")}catch(a){console.log("error")}}(t)},variant:"primary",type:"submit"},"Submit")))))})),le=a(210),ce=a(211),se=a(208),ue=a(17),ie={logoutUser:function(){return function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:Z}),window.localStorage.removeItem("loggedUser"),t({type:ee});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},me=Object(c.b)(null,ie)((function(e){return r.a.createElement(k.a,{onClick:function(){e.logoutUser()}},"Logout")})),de={leaveRoom:function(e){return function(t){t(W());try{t(function(e){return{type:"server/DISPATCH_LEAVE_ROOM_TO_SOCKET",payload:e}}(e)),t({type:R})}catch(a){t(J(a))}}}},ge=Object(c.b)((function(e){return{roomName:e.socket.room}}),de)((function(e){return r.a.createElement(k.a,{onClick:function(){e.leaveRoom(e.roomName)}},"Leave Room")})),Ee=Object(c.b)((function(e){return{login:e.login}}))((function(){return r.a.createElement(ue.b,null,r.a.createElement(le.a,{bg:"light",expand:"lg"},r.a.createElement(le.a.Brand,{href:"#home"},"skeleton card"),r.a.createElement(le.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(le.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(ce.a,{className:"mr-auto"},r.a.createElement(ce.a.Link,{to:"/"},"Home"),r.a.createElement(ce.a.Link,{to:"/lobby"},"Lobby"),r.a.createElement(ge,null),r.a.createElement(me,null),r.a.createElement(se.a,{title:"Dropdown",id:"basic-nav-dropdown"},r.a.createElement(se.a.Item,{href:"#action/3.1"},"Action"),r.a.createElement(se.a.Item,{href:"#action/3.2"},"Another action"),r.a.createElement(se.a.Item,{href:"#action/3.3"},"Something"),r.a.createElement(se.a.Divider,null),r.a.createElement(se.a.Item,{href:"#action/3.4"},"Separated link"))))))})),pe=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"spinner-border",role:"status"},r.a.createElement("span",{className:"sr-only"},"Loading...")))},ke={createAccount:function(){var e=Object(b.a)(O.a.mark((function e(t){var a;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/users",t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},fe="skeleton-card/redux/ducks/account/CREATE_ACCOUNT_PENDING",Oe="skeleton-card/redux/ducks/account/CREATE_ACCOUNT_SUCCESS",be="skeleton-card/redux/ducks/account/CREATE_ACCOUNT_FAIL";var ye=function(e){return{type:be,error:e}},he={createAccount:function(e,t,a,n){return function(){var r=Object(b.a)(O.a.mark((function r(o){return O.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o({type:fe}),r.next=3,ke.createAccount({username:e,name:t,email:a,password:n}).then((function(e){o({type:Oe})})).catch((function(e){return o(ye(e))}));case 3:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()}},ve=Object(c.b)((function(e){return{users:e.users,login:e.login}}),he)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)(""),u=Object(s.a)(c,2),i=u[0],m=u[1],f=Object(n.useState)(""),O=Object(s.a)(f,2),b=O[0],y=O[1],h=Object(n.useState)(""),v=Object(s.a)(h,2),S=v[0],C=v[1];return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formBasicUsername"},r.a.createElement(p.a.Label,null,"username"),r.a.createElement(p.a.Control,{value:o,onChange:function(e){return function(e){l(e.target.value)}(e)},type:"username",placeholder:"enter desired username"})),r.a.createElement(p.a.Group,{controlId:"formBasicUsername"},r.a.createElement(p.a.Label,null,"password"),r.a.createElement(p.a.Control,{value:i,onChange:function(e){return function(e){m(e.target.value)}(e)},type:"password",placeholder:"enter password"})),r.a.createElement(p.a.Group,{controlId:"formBasicUsername"},r.a.createElement(p.a.Label,null,"email"),r.a.createElement(p.a.Control,{value:b,onChange:function(e){return function(e){y(e.target.value)}(e)},type:"email",placeholder:"email"})),r.a.createElement(k.a,{onClick:function(t){return function(t){t.preventDefault();try{e.createAccount(o,S,b,i),l(""),m(""),C(""),y(""),e.toggleCreateAccount()}catch(a){console.log("error")}}(t)},variant:"primary",type:"submit"},"Create Account"),r.a.createElement(k.a,{onClick:function(){return e.toggleCreateAccount()}},"Cancel")))))})),Se=a(207),Ce={setRoomName:Y,dispatchRoomMessage:w,setGame:G,startGame:M},je=Object(c.b)((function(e){return{login:e.login,users:e.users,room:e.socket.room,socket:e.socket,usersInRoom:e.socket.currentClientsInRoom,games:e.games,session:e.session}}),Ce)((function(e){var t=Object(m.g)(),a=Object(n.useState)(""),o=Object(s.a)(a,2),l=o[0],c=o[1],u=Object(n.useState)(!1),i=Object(s.a)(u,2),d=i[0],f=i[1],O=Object(n.useState)(""),b=Object(s.a)(O,2),y=(b[0],b[1],Object(n.useState)("Choose a game")),h=Object(s.a)(y,2);h[0],h[1];return e.login.user&&e.login.user.token?e.room?r.a.createElement("h1",null,"Room: ",e.room):e.room?void 0:r.a.createElement(r.a.Fragment,null,r.a.createElement(Se.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",null,"Welcome, ",e.login.user.username))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,null,r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"Room Name"),r.a.createElement(p.a.Text,null,"Create a room by using a new name, or join an existing room by typing in a matching name"),r.a.createElement(p.a.Control,{value:l,onChange:function(e){return function(e){c(e.target.value)}(e)},type:"email",placeholder:"Enter email"})),r.a.createElement(k.a,{onClick:function(){return e.setRoomName(l),c(""),void t.push("/lobby")},variant:"primary",type:"submit"},"Create/Join Room")))))):e.login.loading?r.a.createElement(pe,null):d?r.a.createElement(ve,{toggleCreateAccount:function(){return f(!d)},createAccount:d}):r.a.createElement(r.a.Fragment,null,r.a.createElement(oe,null),r.a.createElement(k.a,{onClick:function(){return f(!d)},variant:"link"},"create an account"))})),_e=a(212),Ie=a(41),Te=a.n(Ie),xe={setRoomName:Y,dispatchRoomMessage:w,setGame:G,startGame:M},Ne=Object(c.b)((function(e){return{login:e.login,users:e.users,room:e.socket.room,socket:e.socket,usersInRoom:e.socket.currentClientsInRoom,games:e.games,session:e.session}}),xe)((function(e){var t=Object(n.useState)("Choose a game"),a=Object(s.a)(t,2),o=a[0],l=a[1];Object(n.useEffect)((function(){console.log("loading lobby")}),[]);var c=function(){"Choose a game"!==o&&e.startGame(e.session),console.log("no game selected")};if(e.login.user&&e.login.user.token)return e.session.roleDistributed?(console.log("roles distributed"),r.a.createElement(m.a,{to:"/game"})):e.room?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{onChange:function(t){return function(t){console.log(t.target.value),t.preventDefault(),l(t.target.value);var a=e.games.games.filter((function(e){return e.gameName===t.target.value}))[0];e.setGame(a,e.socket.room)}(t)}},r.a.createElement(p.a.Group,{controlId:"exampleForm.SelectCustomSizeSm"},r.a.createElement(p.a.Label,null,"Select a Game"),r.a.createElement(p.a.Control,{as:"select",size:"sm",custom:!0},e.games.games.map((function(e){return r.a.createElement("option",{value:e.gameName,key:e.gameName},e.gameName)}))))))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,function(){if(e.session.selectedGame)return e.session.clients.length<e.session.selectedGame.minPlayers?r.a.createElement(_e.a,{key:Te()()},"Need at least ",e.session.selectedGame.minPlayers," to play"):e.session.clients.length>=e.session.selectedGame.maxPlayers?r.a.createElement(r.a.Fragment,null,r.a.createElement("h2",null,"Max Players Reached"),r.a.createElement(k.a,{onClick:function(){return c()}},"Start Game")):r.a.createElement(k.a,{onClick:function(){return c()}},"Start Game")}()))):r.a.createElement("h1",null,"error creating game select")})),Re={setRoomName:Y,dispatchRoomMessage:w,setGame:G,startGame:M},Ae=Object(c.b)((function(e){return{login:e.login,users:e.users,room:e.socket.room,socket:e.socket,usersInRoom:e.socket.currentClientsInRoom,games:e.games,session:e.session}}),Re)((function(e){Object(m.g)();var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)("Choose a game"),u=Object(s.a)(c,2);u[0],u[1];Object(n.useEffect)((function(){console.log("loading lobby")}),[]);var i=function(e,t){return t.filter((function(t){return t.userId===e}))[0]};return e.login.user&&e.login.user.token?e.session.roleDistributed?(console.log("roles distributed"),r.a.createElement(m.a,{to:"/game"})):e.room?r.a.createElement(r.a.Fragment,null,r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",null,e.session.selectedGame?e.session.selectedGame.gameName:"Choose a game"))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h2",null,"Current Room: ",e.room),e.session.host?r.a.createElement("p",null,"You are the host"):null)),r.a.createElement(Ne,null),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h2",null,"Users"),e.session.clients?e.session.clients.map((function(e,t){return r.a.createElement("p",{key:t},e.username)})):null,i(e.login.user.id,e.session.clients)?i(e.login.user.id,e.session.clients).role:null)),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{onChange:function(e){return function(e){l(e.target.value)}(e)}},r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"type a message"),r.a.createElement(p.a.Control,{value:o,type:"text",placeholder:"type a message"}),r.a.createElement(p.a.Text,{className:"text-muted"},"send a message to the room"))),r.a.createElement(k.a,{onClick:function(){return e.dispatchRoomMessage(e.room,o),void l("")}},"Send Message To Room"))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h3",null,"messages"),r.a.createElement("ul",{className:"list-group",style:{marginBottom:"5px",textAlign:"left"}},e.session.messages.length>0?e.session.messages.map((function(e){return r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("li",{className:"list-group-item",key:Te()()},r.a.createElement("p",{style:{marginBottom:"0"}},r.a.createElement("strong",null,e.user,": "),e.message))))})):r.a.createElement("div",{className:"text-center mt-5 pt-5"},r.a.createElement("p",{className:"lead text-center"},"Fetching Messages"))))))):e.room?void 0:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"ERROR CREATING ROOM")):e.login.loading?r.a.createElement(pe,null):r.a.createElement(m.a,{to:"/"})})),we={setRoomName:Y,dispatchRoomMessage:w,setGame:G,startGame:M},Ge=Object(c.b)((function(e){return{login:e.login,users:e.users,room:e.socket.room,socket:e.socket,usersInRoom:e.socket.currentClientsInRoom,games:e.games,session:e.session}}),we)((function(e){var t=Object(n.useState)(""),a=Object(s.a)(t,2),o=a[0],l=a[1],c=Object(n.useState)("Choose a game"),u=Object(s.a)(c,2);u[0],u[1];Object(n.useEffect)((function(){console.log("loading lobby")}),[]);var i=function(e,t){return t.filter((function(t){return t.userId===e}))[0]};return e.login.user&&e.login.user.token?e.room?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h1",null,"Role: ",i(e.login.user.id,e.session.clients)?i(e.login.user.id,e.session.clients).role:null))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h2",null,"Current Users"))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,e.session.clients?e.session.clients.map((function(e,t){return r.a.createElement("p",{key:t},e.username)})):null)),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(p.a,{onChange:function(e){return function(e){l(e.target.value)}(e)}},r.a.createElement(p.a.Group,{controlId:"formBasicEmail"},r.a.createElement(p.a.Label,null,"type a message"),r.a.createElement(p.a.Control,{value:o,type:"text",placeholder:"type a message"}),r.a.createElement(p.a.Text,{className:"text-muted"},"send a message to the room"))),r.a.createElement(k.a,{onClick:function(){return e.dispatchRoomMessage(e.room,o),void l("")}},"Send Message To Room"))),r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("h3",null,"messages"),r.a.createElement("ul",{className:"list-group",style:{marginBottom:"5px",textAlign:"left"}},e.session.messages.length>0?e.session.messages.map((function(e){return r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement("li",{className:"list-group-item",key:Te()()},r.a.createElement("p",{style:{marginBottom:"0"}},r.a.createElement("strong",null,e.user,": "),e.message))))})):r.a.createElement("div",{className:"text-center mt-5 pt-5"},r.a.createElement("p",{className:"lead text-center"},"Fetching Messages")))))):e.room?void 0:r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"ERROR CREATING ROOM")):e.login.loading?r.a.createElement(pe,null):r.a.createElement("h1",null,"No game data")})),Me=function(){return i.a.get("/api/users").then((function(e){return e.data}))},Le="skeleton-card/redux/ducks/login/INIT_USERS_SUCCESS",Pe="skeleton-card/redux/ducks/login/INIT_USERS_FAIL",Ue="skeleton-card/redux/ducks/login/INIT_USERS_PENDING";var De=function(e){return{type:Le,payload:e}},ze="skeleton-card/redux/ducks/games/SET_GAME",Fe="skeleton-card/redux/ducks/games/INIT_GAMES_PENDING",Be="skeleton-card/redux/ducks/games/INIT_GAMES_SUCCESS",He="skeleton-card/redux/ducks/games/INIT_GAMES_FAIL";var Ke=[{gameName:"seawitched",minPlayers:4,maxPlayers:10,roleDistribution:[{players:4,lookout:1,mutineer:1,mate:1,captain:1,good:1,evil:1,deck:["lookout","mutineer","mate","captain"],alignments:["good","evil"]},{players:5,lookout:1,mutineer:1,mate:1,captain:2,good:1,evil:1,deck:["lookout","mutineer","mate","captain","captain"],alignments:["good","evil"]},{players:6,lookout:1,mutineer:1,mate:2,captain:2,good:1,evil:1,deck:["lookout","mutineer","mate","mate","captain","captain"],alignments:["good","evil"]},{players:7,lookout:1,mutineer:1,mate:3,captain:2,good:1,evil:1,deck:["lookout","mutineer","mate","mate","mate","captain","captain"]},{players:8,lookout:1,mutineer:2,mate:3,captain:2,good:1,evil:1,deck:["lookout","mutineer","mutineer","mate","mate","mate","captain","captain"],alignments:["good","evil"]},{players:9,lookout:1,mutineer:2,mate:3,captain:3,good:2,evil:2,deck:["lookout","mutineer","mutineer","mate","mate","mate","captain","captain","captain"],alignments:["good","good","evil","evil"]},{players:10,lookout:1,mutineer:2,mate:4,captain:3,good:2,evil:2,deck:["lookout","mutineer","mutineer","mate","mate","mate","mate","captain","captain","captain"],alignments:["good","good","evil","evil"]}]},{gameName:"traitor",minPlayers:4,maxPlayers:10,roleDistribution:[{players:4,keyholder:1,traitor:1,guard:1,wizard:1,good:1,evil:1,deck:["keyholder","traitor","guard","wizard"],alignments:["good","evil"]},{players:5,keyholder:1,traitor:1,guard:1,wizard:2,good:1,evil:1,deck:["keyholder","traitor","guard","wizard","wizard"],alignments:["good","evil"]},{players:6,keyholder:1,traitor:1,guard:2,wizard:2,good:1,evil:1,deck:["keyholder","traitor","guard","guard","wizard","wizard"],alignments:["good","evil"]},{players:7,keyholder:1,traitor:1,guard:3,wizard:2,good:1,evil:1,deck:["keyholder","traitor","guard","guard","guard","wizard","wizard"],alignments:["good","evil"]},{players:8,keyholder:1,traitor:2,guard:3,wizard:2,good:1,evil:1,deck:["keyholder","traitor","traitor","guard","guard","guard","wizard","wizard"],alignments:["good","evil"]},{players:9,keyholder:1,traitor:2,guard:3,wizard:3,good:1,evil:1,deck:["keyholder","traitor","traitor","guard","guard","guard","wizard","wizard","wizard"],alignments:["good","good","evil","evil"]},{players:10,keyholder:1,traitor:2,guard:4,wizard:3,good:1,evil:1,deck:["keyholder","traitor","traitor","guard","guard","guard","guard","wizard","wizard","wizard"],alignments:["good","good","evil","evil"]}]},{gameName:"spyfall",minPlayers:3,maxPlayers:12,locations:["cemetary","racetrack","farm"]}],Ve={initUsers:function(){return function(){var e=Object(b.a)(O.a.mark((function e(t){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t({type:Ue}),e.prev=1,e.next=4,Me().then((function(e){return t(De(e))}));case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),t((a=e.t0,{type:Pe,error:a}));case 9:case"end":return e.stop()}var a}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},initializeGames:function(e){return function(){var t=Object(b.a)(O.a.mark((function t(a){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a({type:Fe}),t.prev=1,t.next=4,a({type:Be,payload:e});case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),a((n=t.t0,{type:He,error:n}));case 9:case"end":return t.stop()}var n}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}},Je=Object(c.b)((function(e){return{users:e.users,login:e.login,session:e.session}}),Ve)((function(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),o=(a[0],a[1],Object(n.useState)(null)),l=Object(s.a)(o,2),c=(l[0],l[1]);return Object(n.useEffect)((function(){e.initializeGames(Ke)}),[]),Object(n.useEffect)((function(){var e=window.localStorage.getItem("loggedUser");if(e){var t=JSON.parse(e);c(t)}}),[]),r.a.createElement("div",{className:"App"},r.a.createElement(Ee,null),r.a.createElement(m.d,null,r.a.createElement(m.b,{exact:!0,path:"/"},r.a.createElement(je,null)),r.a.createElement(m.b,{path:"/lobby"},r.a.createElement(Ae,null)),r.a.createElement(m.b,{path:"/game"},r.a.createElement(Ge,null))))})),We=a(34),Xe=a(115),Ye=a(116),$e=a(117),qe=a.n($e),Qe=C()("http://localhost:3003"),Ze=qe()(Qe,"server/"),et=Object(We.combineReducers)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ue:return Object(h.a)({},e,{initUsersPending:!0});case Le:return Object(h.a)({},e,{initUsersPending:!1,users:t.payload});case Pe:return Object(h.a)({},e,{error:t.error});default:return e}},login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return Object(h.a)({},e,{logoutPending:!0});case ee:return Object(h.a)({},e,{logoutPending:!1,user:null});case te:return Object(h.a)({},e,{error:t.error});case Q:return Object(h.a)({},e,{loading:!0});case $:return Object(h.a)({},e,{error:null,loading:!1,user:t.payload});case q:return Object(h.a)({},e,{loading:!1,error:"Error while authenticating user"});default:return e}},account:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe:return Object(h.a)({},e,{createAccountPending:!0});case Oe:return Object(h.a)({},e,{createAccountPending:!1,user:null});case be:return Object(h.a)({},e,{error:t.error});default:return e}},socket:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{client:[],messages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case F:return Object(h.a)({},e,{room:null,currentClientsInRoom:null,socket:t.payload});case U:return Object(h.a)({},e,{setRoomPending:!0});case P:return Object(h.a)({},e,{setRoomPending:!1,room:t.payload});case D:return Object(h.a)({},e,{error:t.error});case z:return Object(h.a)({},e,{room:t.payload});case"skeleton-card/redux/ducks/socket/DISPERSE_ROOM_MESSAGE":return console.log("dispersing message to room"),Object(h.a)({},e,{messages:[].concat(Object(v.a)(e.messages),[t.payload])});case"skeleton-card/redux/ducks/socket/SET_AVAILABLE_ROOMS":return console.log(t.payload),Object(h.a)({},e,{availableRooms:t.payload});case B:return console.log("hit the reducer for set socket state"),Object(h.a)({},e,{socket:Object(h.a)({},t.payload)});case"skeleton-card/redux/ducks/socket/SET_CLIENTS_IN_ROOM":return Object(h.a)({},e,{currentClientsInRoom:t.payload});case"skeleton-card/redux/ducks/socket/SET_SOCKET_ROOM_STATE":return Object(h.a)({},e,{socket:Object(h.a)({},e.socket,{socketRooms:t.payload})});case H:return Object(h.a)({},e,{connectSocketClientPending:!0});case K:return Object(h.a)({},e,{connectSocketClientPending:!1,client:t.payload});case V:return Object(h.a)({},e,{connectSocketClientPending:!1,error:t.error});default:return e}},games:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Be:return Object(h.a)({},e,{gamesLoading:!1,games:t.payload});case Fe:return Object(h.a)({},e,{gamesLoading:!0});case He:return Object(h.a)({},e,{gamesLoading:!1,error:t.error});case ze:return Object(h.a)({},e,{selectedGame:e.games.filter((function(e){return e.gameName===t.payload}))[0]});default:return e}},session:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{messages:[],clients:[],host:!1,selectedGame:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(h.a)({},e,{room:null});case N:return Object(h.a)({},e,{room:t.payload});case I:return console.log("removing client"),Object(h.a)({},e,{clients:e.clients.filter((function(e){return e.socketId!==t.payload}))});case"skeleton-card/redux/ducks/session/SET_CLIENTS_IN_ROOM":return Object(h.a)({},e,{clients:t.payload});case _:return Object(h.a)({},e,{selectedGame:t.payload});case"skeleton-card/redux/ducks/session/DISPERSE_ROOM_MESSAGE_TO_CLIENTS":return console.log(t.payload),Object(h.a)({},e,{messages:[].concat(Object(v.a)(e.messages),[t.payload])});case"skeleton-card/redux/ducks/session/LOAD_EXISTING_MESSAGES":return Object(h.a)({},e,{messages:t.payload});case T:return Object(h.a)({},e,{selectedGame:t.payload});case x:return Object(h.a)({},e,{host:!0});case A:return Object(h.a)({},e,{roleDistributed:!0,clients:t.payload});case"skeleton-card/redux/ducks/session/START_GAME_SUCCESS":return Object(h.a)({},e,{startGamePending:!1});case j:return Object(h.a)({},e,{error:t.error});case"skeleton-card/redux/ducks/session/START_GAME_PENDING":return Object(h.a)({},e,{startGamePending:!0});default:return e}}}),tt=Object(We.createStore)(et,Object(Ye.composeWithDevTools)(Object(We.applyMiddleware)(Xe.a,Ze)));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));tt.subscribe((function(){console.log("new client state",tt.getState())})),tt.dispatch({type:"server/hello",data:"hello"}),l.a.render(r.a.createElement(c.a,{store:tt},r.a.createElement(ue.a,null,r.a.createElement(Je,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[118,1,2]]]);
//# sourceMappingURL=main.ff331782.chunk.js.map